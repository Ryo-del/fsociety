<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Профиль - Fsociety</title>
    <link rel="stylesheet" href="../main/main.css">
    <!-- Подключаем Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <!-- Подключаем стили для профиля -->
    <link rel="stylesheet" href="Profile.css">
</head>
<body>
    <header>
        <div class="logo">Fsociety</div>
        <nav>
            <button onclick="location.href='../main/main.html'">Придложения</button>
            <button onclick="location.href='../create/create.html'">Разместить обьявление</button>
            <button onclick="location.href='../myjob/myjob.html'">Мои обьявления</button>
            <button onclick="location.href='../findpeople/findpeople.html'" class="active">Найти коллегу</button>
            <button onclick="logout()">Выход</button>
            <span id="welcome-message" style="display: none; cursor: pointer;" onclick="goToProfile()"></span>
        </nav>
    </header>

    <main>
        <div class="profile-container">
            <div class="profile-header">
                <!-- Аватарка и основная информация -->
                <div class="profile-avatar-section">
                    <div class="profile-avatar-wrapper">
                        <img src="https://avatars.githubusercontent.com/u/583231?v=4" 
                             alt="Фото профиля" 
                             class="profile-avatar"
                             id="profile-avatar-display"
                             onclick="openProfileModal()">
                        <div class="avatar-overlay" onclick="openProfileModal()">
                            <i class="fas fa-camera"></i>
                        </div>
                    </div>
                    
                    <div class="profile-actions">
                        <button class="primary" id="profile-edit-button">
                            <i class="fas fa-spinner fa-spin" style="margin-right: 8px;"></i> Загрузка...
                        </button>
                    </div>
                </div>
                
                <!-- Детальная информация профиля -->
                <div class="profile-info-section">
                    <h1 class="profile-name" id="profile-name-display">
                        Загрузка...
                    </h1>
                    
                    <div class="profile-badge" id="profile-job-display">
                        <i class="fas fa-briefcase" style="margin-right: 5px;"></i> Загрузка...
                    </div>
                    
                    <!-- Статистика профиля -->
                    <div class="profile-stats" id="profile-stats-display">
                        <!-- Заполняется JavaScript -->
                    </div>
                    
                    <!-- Описание -->
                    <div class="profile-description">
                        <h3>О себе</h3>
                        <p id="profile-description-display">Загрузка информации...</p>
                    </div>
                    
                    <!-- Навыки -->
                    <div class="profile-description" style="margin-top: 20px;" id="profile-skills-container">
                        <h3>Навыки</h3>
                        <div id="profile-skills-display">Загрузка...</div>
                    </div>
                </div>
            </div>
        </div>
    </main>

    <!-- Модальное окно для редактирования профиля -->
    <div id="profile-edit-modal" class="edit-modal">
        <div class="modal-overlay" onclick="closeProfileModal()"></div>
        <div class="modal-content">
            <div class="modal-header">
                <h2 id="profile-modal-title">Редактировать профиль</h2>
                <button class="modal-close" onclick="closeProfileModal()">&times;</button>
            </div>
            <div class="modal-body">
                <!-- Загрузка фотографии -->
                <div class="photo-upload-container">
                    <div class="current-photo-container" id="current-photo-container" style="display: none;">
                        <p>Текущее фото:</p>
                        <img id="current-photo-preview" class="current-photo" alt="Текущее фото">
                        <button type="button" class="delete-photo-btn" id="delete-photo-btn">
                            <i class="fas fa-trash" style="margin-right: 5px;"></i> Удалить фото
                        </button>
                    </div>
                    
                    <div class="photo-upload-area" id="photo-upload-area">
                        <i class="fas fa-cloud-upload-alt"></i>
                        <p>Нажмите или перетащите фото для загрузки</p>
                        <small>Любой размер, автоматически обрежется и сожмется</small>
                        <input type="file" id="photo-input" accept="image/jpeg,image/png,image/gif,image/webp" style="display: none;">
                        <img id="photo-preview" alt="Превью фото">
                    </div>
                </div>
                
                <form id="profile-edit-form">
                    <input type="hidden" id="profile-id" name="id">
                    
                    <!-- Основная информация -->
                    <div class="form-group">
                        <label for="profile-name">Имя *</label>
                        <input type="text" id="profile-name" name="name" required 
                                placeholder="Введите ваше полное имя">
                    </div>
                    
                    <div class="form-group">
                        <label for="profile-telegram">Telegram *</label>
                        <input type="text" id="profile-telegram" name="telegram" 
                               placeholder="Например: @username_fsociety">
                    </div>
                    <div class="form-grid">
                        <div class="form-group">
                            <label for="profile-age">Возраст *</label>
                            <input type="number" id="profile-age" name="age" required 
                                   min="16" max="100" placeholder="25">
                        </div>
                        
                        <div class="form-group">
                            <label for="profile-gender">Пол *</label>
                            <select id="profile-gender" name="gender" required>
                                <option value="">Выберите пол</option>
                                <option value="мужской">Мужской</option>
                                <option value="женский">Женский</option>
                                <option value="другое">Другое</option>
                            </select>
                        </div>
                    </div>
                    
                    <div class="form-grid">
                        <div class="form-group">
                            <label for="profile-city">Город</label>
                            <input type="text" id="profile-city" name="city" 
                                   placeholder="Например: Москва, Санкт-Петербург">
                        </div>
                        
                        <div class="form-group">
    <label for="profile-position">Должность</label>
    <select id="profile-position" name="position">
        <option value="">Не указано</option>
        <option value="Intern">Intern (Стажер)</option>
        <option value="Junior">Junior</option>
        <option value="Middle">Middle</option>
        <option value="Senior">Senior</option>
        <option value="Lead">Lead</option>
    </select>
</div>
                    </div>
                    
                    <div class="form-group">
        <label for="profile-job">Профессия *</label>
        <select id="profile-job" name="job" required>
        <option value="">Выберите профессию</option>
        <option value="Frontend Developer">Frontend Developer</option>
        <option value="Backend Developer">Backend Developer</option>
        <option value="Fullstack Developer">Fullstack Developer</option>
        <option value="DevOps Engineer">DevOps Engineer</option>
        <option value="Data Scientist">Data Scientist</option>
        <option value="UI/UX Designer">UI/UX Designer</option>
        <option value="Project Manager">Project Manager</option>
        <option value="QA Engineer">QA Engineer</option>
        <option value="Data Analyst">Data Analyst</option>
        <option value="Marketing">Marketing</option>
        <option value="другое">Другое (указать в описании)</option>
    </select>
</div>
                    
                    <div class="form-group">
                        <label for="profile-school">Образование *</label>
                        <input type="text" id="profile-school" name="school" required 
                               placeholder="Например: МГУ, КубГУ, Яндекс.Практикум">
                    </div>
                    
                    <div class="form-group">
                        <label for="profile-skills">Навыки * (через запятую)</label>
                        <input type="text" id="profile-skills" name="skills" required 
                               placeholder="Например: JavaScript, React, Go, Docker, UI/UX Design">
                    </div>
                    
                    <!-- Дополнительная информация -->
                    <div class="form-grid">
                        <div class="form-group">
                            <label for="profile-experience">Опыт работы</label>
                            <select id="profile-experience" name="experience">
                                <option value="">Не указано</option>
                                <option value="нет опыта">Нет опыта</option>
                                <option value="до 1 года">До 1 года</option>
                                <option value="1-3 года">1-3 года</option>
                                <option value="3-5 лет">3-5 лет</option>
                                <option value="более 5 лет">Более 5 лет</option>
                            </select>
                        </div>
                        
                        <div class="form-group">
                            <label for="profile-jobtype">Тип работы</label>
                            <select id="profile-jobtype" name="jobtype">
                                <option value="">Не указано</option>
                                <option value="полный день">Полный день</option>
                                <option value="неполный день">Неполный день</option>
                                <option value="удаленная работа">Удаленная работа</option>
                                <option value="фриланс">Фриланс</option>
                                <option value="стажировка">Стажировка</option>
                            </select>
                        </div>
                    </div>
                    
                    <div class="form-group">
                        <label for="profile-salary">Зарплатные ожидания</label>
                        <input type="text" id="profile-salary" name="salary" 
                               placeholder="Например: от 150 000 руб.">
                    </div>
                    
                    <div class="form-group">
                        <label for="profile-description">О себе (дополнительно)</label>
                        <textarea id="profile-description" name="description" 
                                  placeholder="Расскажите о своем опыте, интересах, целях..."
                                  rows="5"></textarea>
                    </div>
                    
                    <div class="form-message info">
                        <i class="fas fa-info-circle" style="margin-right: 8px;"></i>
                        Поля, отмеченные *, обязательны для заполнения
                    </div>
                    
                    <div class="modal-buttons">
                        <button type="submit" class="primary" id="profile-save-button">
                            <i class="fas fa-save" style="margin-right: 8px;"></i> Сохранить профиль
                        </button>
                        <button type="button" class="secondary" onclick="closeProfileModal()">
                            <i class="fas fa-times" style="margin-right: 8px;"></i> Отмена
                        </button>
                    </div>
                </form>
            </div>
        </div>
    </div>
    <script src="Profile.js"></script>
</body>
</html>